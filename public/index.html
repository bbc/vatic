<!DOCTYPE html5>
<html>
<head>

<title>vatic</title>

<link rel="stylesheet" type="text/css" href="vendor/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="css/stylesheet.css">
<link rel="stylesheet" type="text/css" href="jquery-ui/css/smoothness/jquery-ui-1.10.4.custom.css">

<script src="jquery.js"></script>
<script src="vendor/bootstrap/2.2.1/js/bootstrap.min.js"></script>
<script src="jquery-ui/js/jquery-ui-1.10.4.custom.min.js?v=mar8"></script>
<script src="videoplayer.js?v=jul1"></script>
<script src="preload.js?v=jul1"></script>
<script src="objectui.js?v=jul1"></script>
<script src="ui.js?v=jul1"></script>
<script src="job.js?v=jul1"></script>
<script src="tracks.js?v=jul1"></script>

</head>
<body>
<div id="container">
  <div id='loadingscreen'>
    <div id='loadingscreentext'>Downloading the video...</div>
    <div id='loadingscreenslider'></div>
  </div>
  <div id='annotatescreen'>
    <table style="width: 100%"> 
      <tr>
        <td>
	  <div id='topbar'>
            <div id='newobjectcontainer'>
              <button class='btn' id='newobjectbutton'>New Object</button>
	    </div>
	  </div>
	</td>
      </tr>
      <tr>
        <td>
	  <div id='videoframe'></div>
        </td> 
        <td rowspan='2'>
	  <div id='sidebar'>
            <div id='objectcontainer'></div>
	  </div>
	</td>
      </tr> 
      <tr>
        <td>
          <div id='bottombar'>
            <div id='playerslider'></div>
            <button class='btn' id='rewindbutton' disabled>Rewind</button>
            <button class='btn' id='playbutton'>Play</button>
	  </div>
        </td> 
      </tr>
      <tr>
        <td>
	  <button class='btn' id='openadvancedoptions'>Options</button>
          <div id='advancedoptions'>
              <input type='checkbox' id='annotateoptionsresize'>
              <label for='annotateoptionsresize'>Disable Resize?</label>
              <input type='checkbox' id='annotateoptionshideboxes'>
              <label for='annotateoptionshideboxes'>Hide Boxes?</label>
              <input type='checkbox' id='annotateoptionshideboxtext'>
              <label for='annotateoptionshideboxtext'>Hide Labels?</label>
              <div id='speedcontrol'>
                <input type='radio' name='speedcontrol' value='5,1' id='speedcontrolslower'>
                <label for='speedcontrolslower'>Slower</label>
                <input type='radio' name='speedcontrol' value='15,1' id='speedcontrolslow'>
                <label for='speedcontrolslow'>Slow</label>
                <input type='radio' name='speedcontrol' value='30,1' id='speedcontrolnorm' checked='checked'>
                <label for='speedcontrolnorm'>Normal</label>
                <input type='radio' name='speedcontrol' value='90,1' id='speedcontrolfast'>
                <label for='speedcontrolfast'>Fast</label>
	      </div>
          </div>
        </td>
        <td>
          <div id='submitbar'>
            <div id='submitbutton' class='button'>Submit HIT</div>
	  </div>
        </td>
      </tr>
    </table>
  </div>
</div>
<script type="text/javascript">
$(document).ready(function() {
    data = {
      "jobid":"100",
      "slug":"slug",
      "start":"0",
      "stop":"100",
      "width":"704",
      "height":"576",
      "skip":"25",
      "perobject":"5", // TODO remove later
      "completion":"100", // TODO remove later
      "blowradius":"5", // TODO remove later?
      "labels":"[\"cat\",\"dog\",\"fish\"]",
      "attributes":"[[\"fat\", \"thin\"],[\"happy\",\"sad\"],[\"big\",\"little\"]]",
      "training":"0", // TODO remove later
      "verified":"1", // TODO remove later
      "data":"[{\"label\",\"cat 1\",\"attributes\":[],\"boxes\":[]}]"
    }

    console.log("Booting...");

    job = job_import(data);

    preloadvideo(job.start, job.stop, job.frameurl,
      preloadslider($("#loadingscreenslider"), function(progress) {
        if (progress == 1) {
          $("#loadingscreen").hide();
          ui_build(job);
        }
      })
    );
});
</script>
</body>
</html>
