<!DOCTYPE html5>
<html>
<head>

<title>vatic</title>

<link rel="stylesheet" type="text/css" href="pybossa.min.css">
<link rel="stylesheet" type="text/css" href="vatic.css">
<link rel="stylesheet" type="text/css" href="jquery-ui/css/smoothness/jquery-ui-1.10.4.custom.css">

<script src="jquery.js"></script>
<script src="pybossa.js"></script>
</head>
<body>
<div class="container" id="container">
  <div id='loadingscreen'>
    <div id='loadingscreentext'>Downloading the video...</div>
    <div class="progress progress-striped active" id='loadingscreenslider'>
      <div class="bar"></div>
    </div>
  </div>
  <div id='annotatescreen'>
    <class="row">
	    <div class="col-md-12" id='topbar'>
        <div id='newobjectcontainer'>
          <button class='btn' id='newobjectbutton'>New Object</button>
	      </div>
	    </div>
    </div>
    <table>
      <tr>
        <td>
          <div id='videoframe'></div>      
        </td>
        <td>
	        <div class="" id='sidebar'>
            <div id='objectcontainer'></div>
          </div>
        <td>
      </tr>
    </table> 
    <div class="row">
      <div class="col-md-12" id='bottombar'>
        <div class="progress progress-striped active" id='playerslider'>
         <div class="bar"></div>
        </div>
        <button class='btn' id='rewindbutton' disabled>Rewind</button>
        <button class='btn' id='playbutton'>Play</button>
        <button id='submitbutton' class='btn'>Submit</button>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12">
	      <button class='btn' id='openadvancedoptions'>Options</button>
        <div id='advancedoptions'>
          <label for='annotateoptionsresize'>
            <input type='checkbox' id='annotateoptionsresize'>
              Disable Resize?
	          </label>
            <label for='annotateoptionshideboxes'>
              <input type='checkbox' id='annotateoptionshideboxes'>
                Hide Boxes?
	            </label>
              <label for='annotateoptionshideboxtext'>
                <input type='checkbox' id='annotateoptionshideboxtext'>
                  Hide Labels?
	            </label>
              <div id='speedcontrol'>
                <label for='speedcontrolslower'>
                  <input type='radio' name='speedcontrol' value='5,1' id='speedcontrolslower'>
                    Slower
                </label>
                <label for='speedcontrolslow'>
                  <input type='radio' name='speedcontrol' value='15,1' id='speedcontrolslow'>
                  Slow
		            </label>
                <label for='speedcontrolnorm'>
                  <input type='radio' name='speedcontrol' value='30,1' id='speedcontrolnorm' checked='checked'>
                    Normal
		            </label>
                <label for='speedcontrolfast'>
                  <input type='radio' name='speedcontrol' value='90,1' id='speedcontrolfast'>
                  Fast
		            </label>
	            </div>
          </div>
        </div>
      </div>
  </div>
  <div id="success" style="display: none">Task Completed!</div>
</div>
<div class="hidden" id='preloadpit'></div>
<script src="jquery-ui/js/jquery-ui-1.10.4.custom.min.js"></script>
<script src="videoplayer.js"></script>
<script src="preload.js"></script>
<script src="objectui.js"></script>
<script src="ui.js"></script>
<script src="job.js"></script>
<script src="tracks.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    var deferred = new Object();
    var task = new Object();
    task.id = 100;
    task.info = {
      "jobid":"100",
      "slug":"slug",
      "start":"0",
      "stop":"100",
      "width":"704",
      "height":"576",
      "skip":"25",
      "blowradius":"5", // TODO remove later?
      "labels":"[\"cat\",\"dog\",\"fish\"]",
      "attributes":"[[\"fat\", \"thin\"],[\"happy\",\"sad\"],[\"big\",\"little\"]]",
      "data":"[{\"label\":0,\"attributes\":[[0,0,100]],\"boxes\":[[10.0,10.0,30.0,30.0,0,false,false],[100.0,100.0,130.0,130.0,25,false,false],[100.0,100.0,130.0,130.0,50,false,false],[100.0,100.0,130.0,130.0,75,false,false]]}]"
    }

    console.log("Booting...");

    job = job_import(task.info);

    preloadvideo(job.start, job.stop, job.frameurl,
      preloadslider($("#loadingscreenslider"), function(progress) {
        if (progress == 1) {
          $("#loadingscreen").hide();
          ui_build(task, deferred, job);
        }
      })
    );
});
</script>
</body>
</html>
